<openlayers ol-center="center" width="100%" height="100%" ol-view="view" style="position:fixed" custom-layers="true" ol-defaults="olDefaults">
	<ol-control name="{{control.name}}" ng-repeat="control in controls|filter:{active: true}"></ol-control>
	<layer-switcher></layer-switcher>
	<ol-layer name="{{baselayer.name}}" ol-layer-properties="baselayer" ng-repeat="baselayer in baselayers"></ol-layer>
	<ol-layer name="{{wms.name}}" ol-layer-properties="wms"></ol-layer>
	<!--ol-layer name="{{overlay.name}}" ol-layer-properties="overlay" ng-repeat="overlay in overlays"></ol-layer-->
	<!--ol-layer ol-layer-properties="sentinel"></ol-layer-->
	<ol-marker ol-marker-properties="marker"></ol-marker>
	
	<div ng-include src="'scripts/components/header/header-view.html'"></div>
	<div ng-include src="'scripts/components/timeline/timeline-view.html'"></div>
	<div ng-include src="'scripts/components/filter/filter-button-view.html'"></div>

    <div class="row" ng-show="show_trends">
        <div class="col-md-4 col-md-offset-1 well psInfo shadowed">
            <a ng-click="show_trends=false">x</a>
            <nvd3 options="graph_options" data="data" class="with-3d-shadow with-transitions" api="rc.api"></nvd3>
            </br>
            <div class="table-responsive" style="overflow:auto;">
                <table st-safe-src="getFeatureInfoResponse" st-table="displayed" class="table table-striped table-condensed">
                    <thead>
                        <tr>
                            <th>Dataset&nbsp;ID</th>
							<th>PS&nbsp;ID</th>
							<th>Longitudine</th>
                            <th>Latitudine</th>
                            <th>Altitudine</th>
                            <th>Coerenza</th>
                            <th>Velocit&agrave;&nbsp;Media</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ul lr-infinite-scroll="myEventHandler">
                        <tr ng-repeat="record in displayed">
                            <td>{{record.dataset_id}}</td>
                            <td>{{record.code}}</td>
							<td>{{record.lon}}</td>
                            <td>{{record.lat}}</td>
                            <td>{{record.height}}</td>
                            <td>{{record.coh}}</td>
                            <td>{{record.average_speed}}</td>
                        </tr>
                        </ul>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="6" class="text-center">
                                <div st-pagination="" st-items-by-page="5"></div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

	<div class="legenda" ng-controller="HeaderCtrl">
        <div style ="background-color: rgba(0, 60, 136, 0.6);">
            <label style="color: #fff; display: block; font-size: 12px">
			{{legendTitle}}<br/>{{legendUom}}
			</label>
            <img data-ng-src="{{legendUrl}}">
		</div>
    </div>
</openlayers>